<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Account - MiniShop</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
<link rel="stylesheet" href="css/style.css" />
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
</head>

<body dir="ltr" data-page="account">
<header class="bg-light py-3 mb-4 shadow-sm">
  <div class="container d-flex flex-wrap justify-content-between align-items-center">
    <div class="logo h3" style="color:#b82f5f;font-family:'Poppins',sans-serif;font-weight:600;">
      ðŸ’„ Anis <span style="color:#e91e63;">MiniShop</span>
    </div>
    <nav class="mt-2 mt-md-0">
      <a href="index.html" class="me-3">Home</a>
      <a href="cart.html" class="me-3">Cart</a>
      <a href="account.html" class="me-3 active">Account</a>
      <a href="contact.html">Contact</a>
    </nav>
  </div>
</header>

<main class="container text-center">
  <h2 class="mb-4 text-dark fw-bold">User Account</h2>

  <!-- Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬Ø§Ø¨Ø¬Ø§ÛŒÛŒ Ø¨ÛŒÙ† ÙØ±Ù…â€ŒÙ‡Ø§ -->
  <div class="mb-3">
    <button id="loginTab" class="btn btn-outline-primary me-2 active">Login</button>
    <button id="signupTab" class="btn btn-outline-secondary">Sign Up</button>
  </div>

  <!-- ÙØ±Ù… ÙˆØ±ÙˆØ¯ -->
  <form id="loginForm" class="col-md-6 mx-auto shadow-sm p-4 rounded bg-light">
    <div class="mb-3 text-start">
      <label for="loginUsername" class="form-label">Username</label>
      <input type="text" class="form-control" id="loginUsername" placeholder="Enter your username" required>
    </div>
    <div class="mb-3 text-start">
      <label for="loginPassword" class="form-label">Password</label>
      <input type="password" class="form-control" id="loginPassword" placeholder="Enter your password" required>
    </div>
    <button type="submit" class="btn btn-primary w-100">Login</button>
  </form>

  <!-- ÙØ±Ù… Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… -->
  <form id="signupForm" class="col-md-6 mx-auto shadow-sm p-4 rounded bg-light d-none">
    <div class="mb-3 text-start">
      <label for="signupUsername" class="form-label">Username</label>
      <input type="text" class="form-control" id="signupUsername" placeholder="Choose a username" required>
    </div>
    <div class="mb-3 text-start">
      <label for="signupPassword" class="form-label">Password</label>
      <input type="password" class="form-control" id="signupPassword" placeholder="Create a password" required>
    </div>
    <button type="submit" class="btn btn-success w-100">Sign Up</button>
  </form>
</main>

<footer class="bg-light text-center py-3 mt-4">
  <p>&copy; 2025 MiniShop. All rights reserved.</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
// Ø¬Ø§Ø¨Ø¬Ø§ÛŒÛŒ Ø¨ÛŒÙ† Ù„Ø§Ú¯ÛŒÙ† Ùˆ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…
const loginForm = document.getElementById("loginForm");
const signupForm = document.getElementById("signupForm");
const loginTab = document.getElementById("loginTab");
const signupTab = document.getElementById("signupTab");

loginTab.addEventListener("click", () => {
  loginForm.classList.remove("d-none");
  signupForm.classList.add("d-none");
  loginTab.classList.add("active");
  signupTab.classList.remove("active");
});

signupTab.addEventListener("click", () => {
  signupForm.classList.remove("d-none");
  loginForm.classList.add("d-none");
  signupTab.classList.add("active");
  loginTab.classList.remove("active");
});

// Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… (Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± localStorage)
signupForm.addEventListener("submit", function(e) {
  e.preventDefault();
  const user = document.getElementById("signupUsername").value.trim();
  const pass = document.getElementById("signupPassword").value.trim();

  if (localStorage.getItem(user)) {
    alert("This username is already taken!");
  } else {
    localStorage.setItem(user, pass);
    alert("Account created successfully! You can now log in.");
    signupForm.reset();
    signupTab.click();
  }
});

// ÙˆØ±ÙˆØ¯
loginForm.addEventListener("submit", function(e) {
  e.preventDefault();
  const user = document.getElementById("loginUsername").value.trim();
  const pass = document.getElementById("loginPassword").value.trim();

  const storedPass = localStorage.getItem(user);

  if (storedPass && storedPass === pass) {
    localStorage.setItem("loggedInUser", user);
    alert(`Welcome back, ${user}!`);
    window.location.href = "dashboard.html";
  } else {
    alert("Invalid username or password!");
  }
});
</script>

</body>
</html>
